import{M as Be,N as Pe,Q as Le,a as O,b as W,c as se,d as G,e as Y,f as de,g as j,h as Q,i as we,j as Re,k as xe,l as Ae,m as ke,n as Te,o as Ve,p as q,q as Fe,r as z,s as J,t as Ne}from"./chunk-WPJG5H5I.js";import{s as Ce,x as Ie,y as N}from"./chunk-X67DBSAQ.js";import"./chunk-33NYFVWI.js";import{Aa as F,V as H,Z as ce,ca as me,da as ue,ea as pe,fa as ge,ga as E,ha as Ee,ia as _e,ka as fe,la as ve,na as k,oa as T,pa as he,qa as Me,ra as ye,sa as Se,va as De,wa as V,za as be}from"./chunk-P5ZCIYX7.js";import"./chunk-OPS6CX6Y.js";import{Aa as x,Ga as $,Ka as m,P as _,Pa as P,Ra as f,Sa as v,Ta as h,Tb as oe,Ua as a,V as u,Va as t,W as p,Wa as b,_a as L,ac as re,bb as C,cb as A,cc as le,fa as Z,lb as ee,mb as n,nb as g,ob as te,qa as s,qb as M,rb as y,sb as S,ub as ae,va as R,vb as D,xb as ie,zb as ne}from"./chunk-EXJ2PHFM.js";import{a as B}from"./chunk-EQDQRRRY.js";function Ge(r,l){if(r&1){let e=L();a(0,"tr")(1,"td",8),C("click",function(){let d=u(e).$implicit,c=A();return p(c.navigateToDashboard(d.id_list))}),n(2),t(),a(3,"td",7),n(4),t(),a(5,"td",7),n(6),t(),a(7,"td",7),n(8),t(),a(9,"td",7),n(10),ie(11,"date"),t(),a(12,"td",7)(13,"div",9)(14,"div",10)(15,"img",11),C("click",function(){let d=u(e).$implicit,c=A();return p(c.openEdit("0ms","0ms",d.id_list))}),t()(),a(16,"div",10)(17,"img",12),C("click",function(){let d=u(e).$implicit,c=A();return p(c.openRaceDelete("0ms","0ms",d.id_list))}),t()()()()()}if(r&2){let e=l.$implicit;s(2),g(e.category_name),s(2),g(e.segment_value),s(2),g(e.session_value),s(2),g(e.class_value),s(2),te("",ne(11,5,e.session_start,"dd/MM/yyyy HH:mm")," ")}}var I=()=>({standalone:!0});function Ye(r,l){if(r&1&&(a(0,"mat-option",9),n(1),t()),r&2){let e=l.$implicit;m("value",e.value),s(),g(e.name)}}function je(r,l){if(r&1&&(a(0,"mat-option",9),n(1),t()),r&2){let e=l.$implicit;m("value",e.value),s(),g(e.name)}}function He(r,l){if(r&1&&(a(0,"mat-option",9),n(1),t()),r&2){let e=l.$implicit;m("value",e.value),s(),g(e.name)}}function Qe(r,l){if(r&1&&(a(0,"mat-option",9),n(1),t()),r&2){let e=l.$implicit;m("value",e.value),s(),g(e.name)}}function qe(r,l){if(r&1&&(a(0,"mat-option",9),n(1),t()),r&2){let e=l.$implicit;m("value",e.value),s(),g(e.name)}}function ze(r,l){r&1&&(a(0,"mat-error"),n(1,"Invalid start date"),t())}function Je(r,l){r&1&&(a(0,"mat-error"),n(1,"Invalid end date"),t())}var X="button[_ngcontent-%COMP%]{margin-right:8px}.card-bg-transparen[_ngcontent-%COMP%]{--bs-bg-opacity: 1;background-color:transparent!important}",Oe=class r{constructor(l,e,i){this.router=l;this.route=e;this.eventService=i}dialog=_(se);allRace=[];subscriptions=[];ngOnInit(){this.allRace=[{id_list:1,event_id:1,season_id:1,category_name:"Thailand Super Pickup D2",segment_value:"pickup",session_value:"race5",class_value:"c",session_start:new Date("6/9/2024 15:10:00"),session_end:new Date("6/9/2024 15:30:00")}],this.loadRace()}loadRace(){let l=this.eventService.getRace().subscribe(e=>{this.allRace=e},e=>{console.error("Error loading matchList:",e)});this.subscriptions.push(l)}navigateToDashboard(l){this.router.navigate(["/pages","dashboard"])}openEdit(l,e,i){let d=this.allRace.filter(o=>o.id_list==i);this.dialog.open(K,{width:"100vw",maxWidth:"750px",enterAnimationDuration:l,exitAnimationDuration:e,data:{race_data:d}}).afterClosed().subscribe(o=>{if(!o)return;let w=this.allRace.findIndex(We=>We.id_list===o.id_list);w>-1&&(this.allRace=[...this.allRace.slice(0,w),B(B({},this.allRace[w]),o),...this.allRace.slice(w+1)])})}openRaceDelete(l,e,i){this.dialog.open(U,{width:"100vw",maxWidth:"350px",enterAnimationDuration:l,exitAnimationDuration:e,data:{race_id:i}}).afterClosed().subscribe(c=>{this.allRace=this.allRace.filter(o=>o.id_list!==c)})}static \u0275fac=function(e){return new(e||r)(R(le),R(re),R(Ne))};static \u0275cmp=x({type:r,selectors:[["app-race"]],decls:25,vars:0,consts:[[1,"container",2,"margin-top","20px"],[1,"row"],["aria-label","Fish selection"],[1,"col-6","col-lg-3"],["disabled","",2,"width","auto"],[1,"col"],[1,"table","table-dark","table-striped","table-hover"],[1,"text-center"],[1,"text-center",3,"click"],[1,"row","d-flex","justify-content-center"],[1,"col-2"],["src","images/icon/icon_edit.png",2,"border-radius","0","height","24px",3,"click"],["src","images/icon/icon_delete.png",2,"border-radius","0","height","24px",3,"click"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"div",1)(2,"mat-chip-set",2)(3,"div",3)(4,"mat-chip",4),n(5,"TSS Bangsaen Grand Prix 2025"),t()()()(),a(6,"div",1)(7,"div",5)(8,"table",6)(9,"thead")(10,"tr")(11,"th",7),n(12,"Category"),t(),a(13,"th",7),n(14,"\u0E23\u0E38\u0E48\u0E19"),t(),a(15,"th",7),n(16,"Session"),t(),a(17,"th",7),n(18,"Class"),t(),a(19,"th",7),n(20,"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E40\u0E23\u0E34\u0E48\u0E21\u0E41\u0E02\u0E48\u0E07"),t(),b(21,"th",7),t()(),a(22,"tbody"),v(23,Ge,18,8,"tr",null,f),t()()()()()),e&2&&(s(23),h(i.allRace))},dependencies:[k,V,F,N,T,Le,Be,Pe,oe],styles:[X]})},K=class r{raceMatchId=0;raceName="";eventList=[{value:1,name:"TSS Bangsaen Grand Prix 2025"}];seasonList=[{value:1,name:"TSS The Super Series by B-Quik 2025"}];sessionList=[{value:"Free Practice",name:"freepractice"},{value:"qualify",name:"Qualifying"},{value:"race1",name:"Race 1"},{value:"race2",name:"Race 2"},{value:"race3",name:"Race 3"},{value:"race4",name:"Race 4"},{value:"race5",name:"Race 5"}];raceSegment=[{value:"pickup",name:"Pickup"},{value:"touring",name:"Touring"}];classList=[{value:"a",name:"Class A"},{value:"b",name:"Class B"},{value:"c",name:"Class C"},{value:"ab",name:"Class A-B"},{value:"overall",name:"Over All"}];dialogRef=_(O);_adapter=_(Re);_locale=Z(_(we));data=_(W);range=new pe({start:new E(this.data.race_data[0].raceStart),end:new E(this.data.race_data[0].raceEnd)});eventId=new E(this.data.race_data[0].eventId);seasonId=new E(this.data.race_data[0].seasonId);classValue=new E(this.data.race_data[0].raceClass);sessionValue=new E(this.data.race_data[0].raceSession);eventName=new E(this.data.race_data[0].eventId);segmentValue=new E(this.data.race_data[0].raceSegment);ngOnInit(){console.log(this.data.race_data[0]),this.raceMatchId=this.data.race_data[0].raceMatchId,this.seasonId=this.data.race_data[0].seasonId,this.eventId=this.data.race_data[0].eventId,this.classValue=this.data.race_data[0].raceClass,this.sessionValue=this.data.race_data[0].raceSession,this.segmentValue=this.data.race_data[0].raceSegment,this.eventName=this.data.race_data[0].eventId,this.raceName=this.data.race_data[0].raceName,this._locale.set("fr"),this._adapter.setLocale(this._locale())}onSubmit(){let l={raceMatchId:this.raceMatchId,raceName:this.raceName,eventId:this.eventId,seasonId:this.seasonId,raceSegment:this.raceSegment,raceSession:this.sessionValue,raceClass:this.classValue,raceStart:this.range.controls.start.value,raceEnd:this.range.controls.end.value};this.dialogRef.close(l)}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=x({type:r,selectors:[["dialog-animations-race-dialog"]],features:[ae([Fe()])],decls:74,vars:23,consts:[["picker",""],["mat-dialog-title",""],[1,"card","card-bg-transparen"],[1,"card-body"],[1,"row"],[1,"col-6"],[1,"mat-input-form"],[1,"w-100"],[3,"ngModelChange","ngModelOptions","ngModel"],[3,"value"],[2,"margin","0.3rem 0","color","#FFF"],[1,"row","mt-3"],["matInput","",1,"text-center",3,"ngModelChange","ngModelOptions","ngModel"],[1,"col-3"],[1,"col-9"],["mat-label",""],[3,"formGroup","rangePicker"],["matStartDate","","formControlName","start","placeholder","Start date"],["matEndDate","","formControlName","end","placeholder","End date"],[1,"text-light"],["matIconSuffix","",3,"for"],["type","button","matButton","","mat-dialog-close","",1,"btn","btn-danger"],["type","button","matButton","","mat-dialog-close","","cdkFocusInitial","",1,"btn","btn-success",3,"click"]],template:function(e,i){if(e&1){let d=L();a(0,"h2",1),n(1,"\u0E41\u0E01\u0E49\u0E44\u0E02 Race"),t(),a(2,"mat-dialog-content")(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"form",6)(8,"mat-form-field",7)(9,"mat-label"),n(10,"\u0E40\u0E25\u0E37\u0E2D\u0E01 \u0E23\u0E32\u0E22\u0E01\u0E32\u0E23"),t(),a(11,"mat-select",8),S("ngModelChange",function(o){return u(d),y(i.seasonId,o)||(i.seasonId=o),p(o)}),v(12,Ye,2,2,"mat-option",9,f),t()()()(),a(14,"div",5)(15,"form",6)(16,"mat-form-field",7)(17,"mat-label"),n(18,"\u0E40\u0E25\u0E37\u0E2D\u0E01 Event"),t(),a(19,"mat-select",8),S("ngModelChange",function(o){return u(d),y(i.eventId,o)||(i.eventId=o),p(o)}),v(20,je,2,2,"mat-option",9,f),t()()()()(),b(22,"hr",10),a(23,"div",11)(24,"div",5)(25,"form",6)(26,"mat-form-field",7)(27,"mat-label"),n(28,"\u0E0A\u0E37\u0E48\u0E2D Race"),t(),a(29,"input",12),S("ngModelChange",function(o){return u(d),y(i.raceName,o)||(i.raceName=o),p(o)}),t()()()(),a(30,"div",13)(31,"form",6)(32,"mat-form-field",7)(33,"mat-label"),n(34,"\u0E23\u0E38\u0E48\u0E19"),t(),a(35,"mat-select",8),S("ngModelChange",function(o){return u(d),y(i.segmentValue,o)||(i.segmentValue=o),p(o)}),v(36,He,2,2,"mat-option",9,f),t()()()(),a(38,"div",13)(39,"form",6)(40,"mat-form-field",7)(41,"mat-label"),n(42,"Class"),t(),a(43,"mat-select",8),S("ngModelChange",function(o){return u(d),y(i.classValue,o)||(i.classValue=o),p(o)}),v(44,Qe,2,2,"mat-option",9,f),t()()()(),a(46,"div",13)(47,"form",6)(48,"mat-form-field",7)(49,"mat-label"),n(50,"Session"),t(),a(51,"mat-select",8),S("ngModelChange",function(o){return u(d),y(i.sessionValue,o)||(i.sessionValue=o),p(o)}),v(52,qe,2,2,"mat-option",9,f),t()()()(),a(54,"div",14)(55,"form",6)(56,"mat-form-field",7)(57,"mat-label",15),n(58,"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E40\u0E23\u0E34\u0E48\u0E21 - \u0E2A\u0E34\u0E49\u0E19\u0E2A\u0E38\u0E14 race"),t(),a(59,"mat-date-range-input",16),b(60,"input",17)(61,"input",18),t(),a(62,"mat-hint",19),n(63,"DD/MM/YYYY \u2013 DD/MM/YYYY"),t(),b(64,"mat-datepicker-toggle",20)(65,"mat-date-range-picker",null,0),$(67,ze,2,0,"mat-error")(68,Je,2,0,"mat-error"),t()()()()()()(),a(69,"mat-dialog-actions")(70,"button",21),n(71,"close"),t(),a(72,"button",22),C("click",function(){return u(d),p(i.onSubmit())}),n(73,"submit"),t()()}if(e&2){let d=ee(66);s(11),m("ngModelOptions",D(17,I)),M("ngModel",i.seasonId),s(),h(i.seasonList),s(7),m("ngModelOptions",D(18,I)),M("ngModel",i.eventId),s(),h(i.eventList),s(9),m("ngModelOptions",D(19,I)),M("ngModel",i.raceName),s(6),m("ngModelOptions",D(20,I)),M("ngModel",i.segmentValue),s(),h(i.raceSegment),s(7),m("ngModelOptions",D(21,I)),M("ngModel",i.classValue),s(),h(i.classList),s(7),m("ngModelOptions",D(22,I)),M("ngModel",i.sessionValue),s(),h(i.sessionList),s(7),m("formGroup",i.range)("rangePicker",d),s(5),m("for",d),s(3),P(i.range.controls.start.hasError("matStartDateInvalid")?67:-1),s(),P(i.range.controls.end.hasError("matEndDateInvalid")?68:-1)}},dependencies:[H,j,G,Y,de,Q,k,_e,ce,me,ue,Ee,ge,V,De,he,ye,Me,Se,F,be,N,Ie,Ce,T,fe,ve,q,xe,Ae,ke,Te,Ve,z,J],styles:[X],changeDetection:0})},U=class r{raceMatchId=0;dialogRef=_(O);data=_(W);ngOnInit(){console.log(this.data.race_id),this.raceMatchId=this.data.race_id}onSubmit(){this.dialogRef.close(this.raceMatchId)}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=x({type:r,selectors:[["dialog-animations-race-dialog"]],decls:11,vars:0,consts:[["mat-dialog-title","",1,"text-center"],[2,"color","#dc3545"],["type","button","matButton","","mat-dialog-close","",1,"btn","btn-danger"],["type","button","matButton","","mat-dialog-close","","cdkFocusInitial","",1,"btn","btn-success",3,"click"]],template:function(e,i){e&1&&(a(0,"h2",0),n(1,"\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23 "),a(2,"b",1),n(3,"\u0E25\u0E1A Race"),t(),b(4,"br"),n(5,` \u0E2B\u0E23\u0E37\u0E2D\u0E44\u0E21\u0E48?
`),t(),a(6,"mat-dialog-actions")(7,"button",2),n(8,"\u0E22\u0E01\u0E40\u0E25\u0E34\u0E01"),t(),a(9,"button",3),C("click",function(){return i.onSubmit()}),n(10,"\u0E22\u0E37\u0E19\u0E22\u0E31\u0E19"),t()())},dependencies:[H,j,G,Y,Q,k,V,F,N,T,q,z,J],styles:[X],changeDetection:0})};export{K as DialogAnimationsModalEdit,U as DialogAnimationsRaceModalDelete,Oe as RaceComponent};
