import{B as Oe,a as B,b as V,c as ce,d as L,e as O,f as ue,g as Y,h as G,i as Fe,j as ke,k as Ae,l as Ne,m as Re,n as Pe,o as Be,p as H,q as Ve,r as z,s as J,t as Le}from"./chunk-CLKYMXGU.js";import{s as xe,x as Te,y as Q}from"./chunk-X67DBSAQ.js";import"./chunk-33NYFVWI.js";import{Aa as q,V as W,Z as pe,ca as Ee,da as ge,ea as ve,fa as fe,ga as M,ha as _e,ia as he,ka as Me,la as De,na as j,oa as $,pa as ye,qa as Se,ra as be,sa as we,va as Ie,wa as K,za as Ce}from"./chunk-P5ZCIYX7.js";import"./chunk-OPS6CX6Y.js";import{Aa as y,Ab as se,Da as ie,Ga as ne,Ka as E,P as c,Pa as R,Ra as S,Sa as b,Ta as w,Ua as n,V as u,Va as t,W as p,Wa as v,_a as P,ac as de,bb as f,cb as I,cc as me,fa as te,lb as ae,mb as l,nb as h,ob as oe,qa as m,qb as C,rb as x,sb as T,ub as re,va as _,vb as F,xb as le}from"./chunk-EXJ2PHFM.js";import{a as N}from"./chunk-EQDQRRRY.js";var k=class r{transform(a,e,i="en-GB"){if(!a||!e)return"";let o=new Date(a),d=new Date(e);if(isNaN(o.getTime())||isNaN(d.getTime()))return"";let s=o.getFullYear()===d.getFullYear()&&o.getMonth()===d.getMonth(),g=o.getFullYear()===d.getFullYear(),A=new Intl.DateTimeFormat(i,{day:"numeric"}),We=new Intl.DateTimeFormat(i,{day:"numeric",month:"short"}),D=new Intl.DateTimeFormat(i,{day:"numeric",month:"short",year:"numeric"});return s?`${A.format(o)} - ${D.format(d)}`:g?`${We.format(o)} - ${D.format(d)}`:`${D.format(o)} - ${D.format(d)}`}static \u0275fac=function(e){return new(e||r)};static \u0275pipe=ie({name:"dateRange",type:r,pure:!0})};function je(r,a){if(r&1){let e=P();n(0,"tr")(1,"td",5),f("click",function(){u(e);let o=I();return p(o.navigateToRace())}),l(2),t(),n(3,"td",4),l(4),le(5,"dateRange"),t(),n(6,"td",4),l(7),t(),n(8,"td",4)(9,"div",6)(10,"div",7)(11,"img",8),f("click",function(){let o=u(e).$implicit,d=I();return p(d.openEdit("0ms","0ms",o.event_id))}),t()(),n(12,"div",7)(13,"img",9),f("click",function(){let o=u(e).$implicit,d=I();return p(d.openDelete("0ms","0ms",o.event_id))}),t()()()()()}if(r&2){let e=a.$implicit;m(2),h(e.event_name),m(2),oe(" ",se(5,3,e.event_start,e.event_end,"en-GB")," "),m(3),h(e.circuit_name)}}var U=()=>({standalone:!0});function $e(r,a){if(r&1&&(n(0,"mat-option",9),l(1),t()),r&2){let e=a.$implicit;E("value",e.value),m(),h(e.name)}}function Ke(r,a){if(r&1&&(n(0,"mat-option",9),l(1),t()),r&2){let e=a.$implicit;E("value",e.value),m(),h(e.name)}}function qe(r,a){r&1&&(n(0,"mat-error"),l(1,"Invalid start date"),t())}function Qe(r,a){r&1&&(n(0,"mat-error"),l(1,"Invalid end date"),t())}var ee="button[_ngcontent-%COMP%]{margin-right:8px}.card-bg-transparen[_ngcontent-%COMP%]{--bs-bg-opacity: 1;background-color:transparent!important}",Ye=class r{constructor(a,e,i,o){this.router=a;this.route=e;this.eventService=i;this.toastr=o}dialog=c(ce);allEvent=[{event_id:1,season_id:1,event_name:"TSS Bangsaen Grand Prix 2025",circuit_name:"bsc",event_start:new Date("6/9/2024 15:10:00"),event_end:new Date("6/10/2024 15:30:00")}];subscriptions=[];ngOnInit(){this.loadEvent()}loadEvent(){let a=this.eventService.getEvent().subscribe(e=>{this.allEvent=[],this.allEvent=e},e=>{console.error("Error loading matchList:",e)});this.subscriptions.push(a)}navigateToRace(){this.router.navigate(["/pages","race"])}openEdit(a,e,i){let o=this.allEvent.filter(s=>s.event_id==i);this.dialog.open(X,{width:"100vw",maxWidth:"750px",enterAnimationDuration:a,exitAnimationDuration:e,data:{event_data:o}}).afterClosed().subscribe(s=>{if(!s)return;let g=this.allEvent.findIndex(A=>A.event_id===s.event_id);g>-1&&(this.allEvent=[...this.allEvent.slice(0,g),N(N({},this.allEvent[g]),s),...this.allEvent.slice(g+1)])})}openDelete(a,e,i){this.dialog.open(Z,{width:"100vw",maxWidth:"350px",enterAnimationDuration:a,exitAnimationDuration:e,data:{event_id:i}}).afterClosed().subscribe(d=>{console.log("The dialog was closed"),this.allEvent=this.allEvent.filter(s=>s.event_id!==d)})}static \u0275fac=function(e){return new(e||r)(_(me),_(de),_(Le),_(Oe))};static \u0275cmp=y({type:r,selectors:[["app-event"]],decls:16,vars:0,consts:[[1,"container",2,"margin-top","20px"],[1,"row"],[1,"col"],[1,"table","table-dark","table-striped","table-hover"],[1,"text-center"],[1,"text-center",3,"click"],[1,"row","d-flex","justify-content-center"],[1,"col-2"],["src","images/icon/icon_edit.png",2,"border-radius","0","height","24px",3,"click"],["src","images/icon/icon_delete.png",2,"border-radius","0","height","24px",3,"click"]],template:function(e,i){e&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"table",3)(4,"thead")(5,"tr")(6,"th",4),l(7,"Event"),t(),n(8,"th",4),l(9,"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E08\u0E31\u0E14\u0E01\u0E32\u0E23\u0E41\u0E02\u0E48\u0E07"),t(),n(10,"th",4),l(11,"\u0E2A\u0E19\u0E32\u0E21"),t(),v(12,"th",4),t()(),n(13,"tbody"),b(14,je,14,7,"tr",null,S),t()()()()()),e&2&&(m(14),w(i.allEvent))},dependencies:[k],styles:[ee]})},X=class r{eventName="";eventId=0;circuitName="";seasonId=0;dateSessionStart=new M(new Date);dateSessionEnd=new M(new Date);seasonList=[{value:1,name:"TSS The Super Series by B-Quik 2025"},{value:2,name:"TSS The Super Series by B-Quik 2024"}];mapsList=[{value:"bsc",name:"Bangsaen Street Circuit, Thailand"},{value:"sic",name:"Petronas Sepang International Circuit, Malaysia"},{value:"bric",name:"Buriram International Circuit, Thailand"}];order=["freePractice","qualifying","race1","race2","race3","race4","race5"];labelMap={freePractice:"Free Practice",qualifying:"Qualifying",race1:"Race 1",race2:"Race 2",race3:"Race 3",race4:"Race 4",race5:"Race 5"};dialogRef=c(B);data=c(V);_adapter=c(ke);_locale=te(c(Fe));range=new ve({start:new M(this.data.event_data[0].eventStart),end:new M(this.data.event_data[0].eventEnd)});constructor(){}ngOnInit(){console.log(this.data.event_data[0]),this.eventId=this.data.event_data[0].eventId,this.eventName=this.data.event_data[0].eventName,this.circuitName=this.data.event_data[0].circuitName,this.seasonId=this.data.event_data[0].seasonId,this.dateSessionStart=this.data.event_data[0].eventStart,this.dateSessionEnd=this.data.event_data[0].eventEnd,this._locale.set("fr"),this._adapter.setLocale(this._locale())}onNoClick(){let a={eventName:this.eventName,eventId:this.eventId,circuitName:this.circuitName,seasonId:this.seasonId,dateSessionStart:this.range.controls.start,dateSessionEnd:this.range.controls.end};this.dialogRef.close(a)}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=y({type:r,selectors:[["dialog-animations-example-dialog"]],features:[re([Ve()])],decls:50,vars:14,consts:[["picker",""],["mat-dialog-title",""],[1,"card","card-bg-transparen"],[1,"card-body"],[1,"row"],[1,"col-12"],[1,"mat-input-form"],[1,"w-100"],[3,"ngModelChange","ngModelOptions","ngModel"],[3,"value"],[2,"margin","0.3rem 0","color","#FFF"],[1,"row","mt-3"],[1,"col-6"],["matInput","",1,"text-center",3,"ngModelChange","ngModelOptions","ngModel"],["mat-label",""],[3,"formGroup","rangePicker"],["matStartDate","","formControlName","start","placeholder","Start date"],["matEndDate","","formControlName","end","placeholder","End date"],[1,"text-light"],["matIconSuffix","",3,"for"],["type","button","matButton","","mat-dialog-close","",1,"btn","btn-danger"],["type","button","matButton","","mat-dialog-close","","cdkFocusInitial","",1,"btn","btn-success",3,"click"]],template:function(e,i){if(e&1){let o=P();n(0,"h2",1),l(1,"\u0E41\u0E01\u0E49\u0E44\u0E02 Event"),t(),n(2,"mat-dialog-content")(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"form",6)(8,"mat-form-field",7)(9,"mat-label"),l(10,"\u0E40\u0E25\u0E37\u0E2D\u0E01 \u0E23\u0E32\u0E22\u0E01\u0E32\u0E23"),t(),n(11,"mat-select",8),T("ngModelChange",function(s){return u(o),x(i.seasonId,s)||(i.seasonId=s),p(s)}),b(12,$e,2,2,"mat-option",9,S),t()()()()(),v(14,"hr",10),n(15,"div",11)(16,"div",12)(17,"form",6)(18,"mat-form-field",7)(19,"mat-label"),l(20,"\u0E0A\u0E37\u0E48\u0E2D Event"),t(),n(21,"input",13),T("ngModelChange",function(s){return u(o),x(i.eventName,s)||(i.eventName=s),p(s)}),t()()()(),n(22,"div",12)(23,"form",6)(24,"mat-form-field",7)(25,"mat-label"),l(26,"\u0E40\u0E25\u0E37\u0E2D\u0E01 \u0E2A\u0E19\u0E32\u0E21"),t(),n(27,"mat-select",8),T("ngModelChange",function(s){return u(o),x(i.circuitName,s)||(i.circuitName=s),p(s)}),b(28,Ke,2,2,"mat-option",9,S),t()()()(),n(30,"div",5)(31,"form",6)(32,"mat-form-field",7)(33,"mat-label",14),l(34,"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E40\u0E23\u0E34\u0E48\u0E21 - \u0E2A\u0E34\u0E49\u0E19\u0E2A\u0E38\u0E14 Event"),t(),n(35,"mat-date-range-input",15),v(36,"input",16)(37,"input",17),t(),n(38,"mat-hint",18),l(39,"DD/MM/YYYY \u2013 DD/MM/YYYY"),t(),v(40,"mat-datepicker-toggle",19)(41,"mat-date-range-picker",null,0),ne(43,qe,2,0,"mat-error")(44,Qe,2,0,"mat-error"),t()()()()()()(),n(45,"mat-dialog-actions")(46,"button",20),l(47,"close"),t(),n(48,"button",21),f("click",function(){return u(o),p(i.onNoClick())}),l(49,"submit"),t()()}if(e&2){let o=ae(42);m(11),E("ngModelOptions",F(11,U)),C("ngModel",i.seasonId),m(),w(i.seasonList),m(9),E("ngModelOptions",F(12,U)),C("ngModel",i.eventName),m(6),E("ngModelOptions",F(13,U)),C("ngModel",i.circuitName),m(),w(i.mapsList),m(7),E("formGroup",i.range)("rangePicker",o),m(5),E("for",o),m(3),R(i.range.controls.start.hasError("matStartDateInvalid")?43:-1),m(),R(i.range.controls.end.hasError("matEndDateInvalid")?44:-1)}},dependencies:[W,Y,L,O,ue,G,j,he,pe,Ee,ge,_e,fe,K,Ie,ye,be,Se,we,q,Ce,Q,Te,xe,$,Me,De,H,Ae,Ne,Re,Pe,Be,z,J],styles:[ee],changeDetection:0})},Z=class r{eventId="";dialogRef=c(B);data=c(V);ngOnInit(){console.log(this.data.event_id),this.eventId=this.data.event_id}onSubmit(){this.dialogRef.close(this.eventId)}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=y({type:r,selectors:[["dialog-animations-example-dialog"]],decls:11,vars:0,consts:[["mat-dialog-title","",1,"text-center"],[2,"color","#dc3545"],["type","button","matButton","","mat-dialog-close","",1,"btn","btn-danger"],["type","button","matButton","","mat-dialog-close","","cdkFocusInitial","",1,"btn","btn-success",3,"click"]],template:function(e,i){e&1&&(n(0,"h2",0),l(1,"\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23 "),n(2,"b",1),l(3,"\u0E25\u0E1A Event"),t(),v(4,"br"),l(5,` \u0E2B\u0E23\u0E37\u0E2D\u0E44\u0E21\u0E48?
`),t(),n(6,"mat-dialog-actions")(7,"button",2),l(8,"\u0E22\u0E01\u0E40\u0E25\u0E34\u0E01"),t(),n(9,"button",3),f("click",function(){return i.onSubmit()}),l(10,"\u0E22\u0E37\u0E19\u0E22\u0E31\u0E19"),t()())},dependencies:[W,Y,L,O,G,j,K,q,Q,$,H,z,J],styles:[ee],changeDetection:0})};export{Z as DialogAnimationsModalDelete,X as DialogAnimationsModalEdit,Ye as EventComponent};
