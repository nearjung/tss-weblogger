import{a as ce,b as ue,c as we,d as Ee,g as ye,h as _e}from"./chunk-TP5JS6T5.js";import{a as me,b as ge,c as se}from"./chunk-YQXRXCQE.js";import{a as pe,b as fe,c as he,d as ve,e as be,g as Ce,i as Me}from"./chunk-QMYQZUIR.js";import{b as de}from"./chunk-4IKHQH3D.js";import{f as q,h as P}from"./chunk-U6AR7ORX.js";import{f as A,g as O,h as R,i as G,q as le}from"./chunk-OULYMN3A.js";import{$ as v,Ba as te,Ca as re,Ga as ne,Ia as ie,Ma as oe,Na as ae,fa as j,ia as K,ja as H,la as Z,ma as $,oa as U,pa as z,qa as J,ra as Q,sa as X,ta as b,ua as Y,va as ee}from"./chunk-H5IADLD3.js";import"./chunk-4MNQX6OK.js";import{Ab as E,Bb as y,Cb as _,Db as n,Eb as i,Fb as u,Jb as D,Nb as p,Ob as S,Va as m,Xb as V,Yb as a,Zb as T,_a as w,_b as x,ba as M,ec as k,fb as h,ja as d,ka as c,la as N,lb as W,ma as L,tb as g,vb as F,yb as B}from"./chunk-77CAPYCR.js";import"./chunk-2NFLSA4Y.js";var C=class o{ngOnInit(){}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=h({type:o,selectors:[["app-reset-warning-logger"]],features:[k([le()])],decls:14,vars:0,consts:[["mat-dialog-title","",1,"text-center"],[1,"text-center"],[2,"color","#D88C0C"],[1,"row"],[1,"col-12","d-flex","justify-content","mt-2"],["type","button","matButton","","mat-dialog-close","",1,"btn","btn-danger"],["type","button","matButton","","mat-dialog-close","","cdkFocusInitial","",1,"btn","btn-success"]],template:function(e,t){e&1&&(n(0,"h1",0),a(1,` Warning Logger
`),i(),n(2,"mat-dialog-content")(3,"h5",1),a(4," \u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23 Reset \u0E04\u0E48\u0E32 "),n(5,"b",2),a(6,"Warning"),i(),a(7," \u0E17\u0E31\u0E49\u0E07\u0E2B\u0E21\u0E14\u0E2B\u0E23\u0E37\u0E2D\u0E44\u0E21\u0E48 ? "),i(),n(8,"div",3)(9,"div",4)(10,"button",5),a(11,"\u0E22\u0E01\u0E40\u0E25\u0E34\u0E01"),i(),n(12,"button",6),a(13,"\u0E22\u0E37\u0E19\u0E22\u0E31\u0E19"),i()()()())},dependencies:[v,O,G,R,b],styles:["button[_ngcontent-%COMP%]{margin-right:8px}"],changeDetection:0})};function xe(o,r){if(o&1&&(n(0,"mat-option",8),a(1),i()),o&2){let e=r.$implicit;g("value",e.value),m(),T(e.name)}}function Ie(o,r){if(o&1&&(n(0,"div",29),u(1,"img",31),i()),o&2){let e=S().$implicit;g("matBadge",e.numberWarning)}}function Ne(o,r){o&1&&(n(0,"div",30),u(1,"img",32),i())}function Le(o,r){if(o&1){let e=D();n(0,"div",20),p("click",function(){d(e);let l=S();return c(l.navigateToLoggerDetail())}),n(1,"mat-card",21)(2,"mat-card-content")(3,"div",18)(4,"div",22)(5,"h3",23)(6,"span",24),a(7),i()()(),n(8,"div",22)(9,"h3",23)(10,"span",24),a(11),i()()()(),u(12,"hr",25),n(13,"div",26)(14,"div",27)(15,"button",28),a(16," Offline "),i(),W(17,Ie,2,1,"div",29)(18,Ne,2,0,"div",30),i()()()()()}if(o&2){let e=r.$implicit;m(),F("alert",e.warningDetector)("warning",e.numberWarning<=3&&e.numberWarning>=1),m(6),x("No.",e.carNumber,""),m(4),T(e.loggerId),m(6),B(e.numberWarning>0?17:18)}}var De=class o{constructor(r,e){this.router=r;this.route=e;this.allLoggers=this.allLoggers.filter(t=>t.matchId==1)}allLoggers=[{id:1,matchId:1,driverName:"\u0E17\u0E14\u0E2A\u0E2D\u0E1A Test01",carNumber:"3",carType:"Pickup",loggerId:"Client123",numberWarning:0,warningDetector:!1},{id:2,matchId:1,driverName:"\u0E2A\u0E21\u0E0A\u0E32\u0E22 Speed",carNumber:"12",carType:"Sedan",loggerId:"Client124",numberWarning:2,warningDetector:!1},{id:3,matchId:1,driverName:"Arisa Turbo",carNumber:"27",carType:"Hatchback",loggerId:"Client125",numberWarning:1,warningDetector:!1},{id:4,matchId:2,driverName:"\u0E27\u0E34\u0E17\u0E27\u0E31\u0E2A Drift",carNumber:"88",carType:"SUV",loggerId:"Client126",numberWarning:4,warningDetector:!0},{id:5,matchId:2,driverName:"Napat Racer",carNumber:"19",carType:"Coupe",loggerId:"Client127",numberWarning:0,warningDetector:!1},{id:6,matchId:1,driverName:"Ploy Fast",carNumber:"05",carType:"Pickup",loggerId:"Client128",numberWarning:3,warningDetector:!1},{id:7,matchId:3,driverName:"\u0E18\u0E19\u0E32 Power",carNumber:"63",carType:"Sedan",loggerId:"Client129",numberWarning:0,warningDetector:!1},{id:8,matchId:3,driverName:"Chanin Boost",carNumber:"42",carType:"Hatchback",loggerId:"Client130",numberWarning:1,warningDetector:!1},{id:9,matchId:2,driverName:"\u0E21\u0E38\u0E01\u0E14\u0E32 Grip",carNumber:"71",carType:"SUV",loggerId:"Client131",numberWarning:0,warningDetector:!1},{id:10,matchId:1,driverName:"Krit Aero",carNumber:"09",carType:"Coupe",loggerId:"Client132",numberWarning:5,warningDetector:!0},{id:11,matchId:2,driverName:"\u0E28\u0E28\u0E34 Nitro",carNumber:"33",carType:"Pickup",loggerId:"Client133",numberWarning:2,warningDetector:!1},{id:12,matchId:3,driverName:"Bosco Line",carNumber:"7",carType:"Sedan",loggerId:"Client134",numberWarning:0,warningDetector:!1}];dialog=M(A);onShowAllLoggers=[];sortStatus="";showRoutePath=!0;filterLogList=[{name:"Logger \u0E17\u0E31\u0E49\u0E07\u0E2B\u0E21\u0E14",value:"all"},{name:"\u0E40\u0E09\u0E1E\u0E32\u0E30 \u0E04\u0E27\u0E31\u0E19\u0E04\u0E33",value:"allSmokeDetect"},{name:"\u0E40\u0E09\u0E1E\u0E32\u0E30 Warning",value:"allWarning"}];filterLogger=new $(["all"],{nonNullable:!0});wasAllSelected=this.filterLogger.value.includes("all");_formBuilder=M(X);filterIsAnd=!1;isChecked=!0;formGroup=this._formBuilder.group({sortType:[!0,j.requiredTrue]});ngOnInit(){this.sortStatus=this.formGroup.value.sortType?"\u0E21\u0E32\u0E01 - \u0E19\u0E49\u0E2D\u0E22":"\u0E19\u0E49\u0E2D\u0E22 - \u0E21\u0E32\u0E01",this.updateView(),this.filterLogger.valueChanges.subscribe(()=>this.updateView())}isAllSelected(){return this.filterLogger.value.includes("all")}matchesFilters(r,e){if(e.length===0||e.includes("all"))return!0;let t=[];return e.includes("allWarning")&&t.push(r.numberWarning>0&&!r.warningDetector),e.includes("allSmokeDetect")&&t.push(r.warningDetector===!0),this.filterIsAnd?t.every(Boolean):t.some(Boolean)}updateView(){let r=this.filterLogger.value??["all"],e=this.allLoggers.filter(t=>this.matchesFilters(t,r));e.sort((t,l)=>{let f=!!this.formGroup.value.sortType?l.numberWarning-t.numberWarning:t.numberWarning-l.numberWarning;if(f!==0)return f;let I=Number(l.warningDetector)-Number(t.warningDetector);return I!==0?I:t.driverName.localeCompare(l.driverName,"th")}),this.onShowAllLoggers=e}onSelectChange(r){let e=r.value||[],t=this.wasAllSelected;e.includes("all")&&e.length>1?t?this.filterLogger.setValue(e.filter(s=>s!=="all"),{emitEvent:!1}):this.filterLogger.setValue(["all"],{emitEvent:!1}):e.length==0&&this.filterLogger.setValue(["all"],{emitEvent:!1}),this.wasAllSelected=(this.filterLogger.value??e).includes("all"),this.updateView()}get allWarning(){return this.allLoggers.filter(r=>r.numberWarning>0)}onToggleSort(){let r=!!this.formGroup.value.sortType;this.sortStatus=r?"\u0E21\u0E32\u0E01 - \u0E19\u0E49\u0E2D\u0E22":"\u0E19\u0E49\u0E2D\u0E22 - \u0E21\u0E32\u0E01",this.updateView()}navigateToLoggerDetail(){this.router.navigate(["/pages","logger"])}navigateToResetLogger(r,e){let t=this.dialog.open(C,{enterAnimationDuration:r,exitAnimationDuration:e})}static \u0275fac=function(e){return new(e||o)(w(P),w(q))};static \u0275cmp=h({type:o,selectors:[["app-dashboard"]],decls:28,vars:4,consts:[["menu","matMenu"],[1,"pt-2"],[1,"container"],[1,"row","w-100"],[1,"col-3","pt-2"],[1,"mat-input-form"],[1,"w-100"],["multiple","",3,"selectionChange","formControl"],[3,"value"],[1,"col-3","ps-0","pe-0","d-flex","align-items-center"],["ngNativeValidate","",1,"example-form",3,"formGroup"],["formControlName","sortType",3,"change"],[1,"offset-3","col-3","ps-0","pe-0","d-flex","align-items-center","justify-content-end"],["matButton","","type","button",1,"btn","btn-light",3,"matMenuTriggerFor"],["xmlns","http://www.w3.org/2000/svg","height","24px","viewBox","0 -960 960 960","width","24px","fill","000"],["d","m370-80-16-128q-13-5-24.5-12T307-235l-119 50L78-375l103-78q-1-7-1-13.5v-27q0-6.5 1-13.5L78-585l110-190 119 50q11-8 23-15t24-12l16-128h220l16 128q13 5 24.5 12t22.5 15l119-50 110 190-103 78q1 7 1 13.5v27q0 6.5-2 13.5l103 78-110 190-118-50q-11 8-23 15t-24 12L590-80H370Zm70-80h79l14-106q31-8 57.5-23.5T639-327l99 41 39-68-86-65q5-14 7-29.5t2-31.5q0-16-2-31.5t-7-29.5l86-65-39-68-99 42q-22-23-48.5-38.5T533-694l-13-106h-79l-14 106q-31 8-57.5 23.5T321-633l-99-41-39 68 86 64q-5 15-7 30t-2 32q0 16 2 31t7 30l-86 65 39 68 99-42q22 23 48.5 38.5T427-266l13 106Zm42-180q58 0 99-41t41-99q0-58-41-99t-99-41q-59 0-99.5 41T342-480q0 58 40.5 99t99.5 41Zm-2-140Z"],["mat-menu-item","",3,"click"],[1,"container",2,"margin-top","20px"],[1,"row"],[1,"col-6","col-sm-4","col-lg-3","mt-3"],[1,"col-6","col-sm-4","col-lg-3","mt-3",3,"click"],["appearance","outlined",1,"logger-card"],[1,"col-12"],[2,"margin","0.5rem 0 0 0"],[1,"badge","text-bg-secondary","w-100"],[2,"margin","0.3rem 0"],[1,"row","justify-content-center"],[1,"col-6","mt-1","pe-0","d-flex","justify-content-center"],["type","button",1,"btn","btn-secondary","w-100"],["matBadgeOverlap","false",1,"demo-section",2,"width","27px",3,"matBadge"],["matBadgeOverlap","false",1,"demo-section",2,"width","33px"],["src","images/icon/image8.png",2,"border-radius","0","height","40px"],["src","images/icon/image6.png",2,"border-radius","0","height","40px","margin-left","10px"]],template:function(e,t){if(e&1){let l=D();n(0,"mat-toolbar",1)(1,"mat-toolbar-row")(2,"div",2)(3,"div",3)(4,"div",4)(5,"form",5)(6,"mat-form-field",6)(7,"mat-label"),a(8,"Filter"),i(),n(9,"mat-select",7),p("selectionChange",function(f){return d(l),c(t.onSelectChange(f))}),y(10,xe,2,2,"mat-option",8,E),i()()()(),n(12,"div",9)(13,"form",10)(14,"mat-slide-toggle",11),p("change",function(){return d(l),c(t.onToggleSort())}),a(15),i()()(),n(16,"div",12)(17,"button",13),N(),n(18,"svg",14),u(19,"path",15),i()(),L(),n(20,"mat-menu",null,0)(22,"button",16),p("click",function(){return d(l),c(t.navigateToResetLogger("0ms","0ms"))}),a(23,"Reset Logger \u0E17\u0E31\u0E49\u0E07\u0E2B\u0E21\u0E14"),i()()()()()()(),n(24,"div",17)(25,"div",18),y(26,Le,19,7,"div",19,E),i()()}if(e&2){let l=V(21);m(9),g("formControl",t.filterLogger),m(),_(t.filterLogList),m(3),g("formGroup",t.formGroup),m(2),x("Warning ",t.sortStatus,""),m(2),g("matMenuTriggerFor",l),m(9),_(t.onShowAllLoggers)}},dependencies:[Me,be,Ce,ye,_e,de,Ee,we,v,se,ge,me,b,U,K,H,Z,re,te,ee,ne,ae,oe,ie,Y,z,J,Q,ue,ce,ve,fe,pe,he],styles:[".logger-card[_ngcontent-%COMP%]{max-width:400px}.logger-card-footer[_ngcontent-%COMP%]{padding:16px}mat-icon[_ngcontent-%COMP%]{font-size:20px}.mat-toolbar[_ngcontent-%COMP%]{background:#212529;color:#fff}.example-form[_ngcontent-%COMP%]   mat-slide-toggle[_ngcontent-%COMP%]{margin:8px 0;display:block}.logger-card.alert[_ngcontent-%COMP%]{padding:0;border:2px solid #EF4444;background-color:#611515;box-shadow:none;color:#fff}.logger-card.warning[_ngcontent-%COMP%]{padding:0;border:2px solid #D88C0C;box-shadow:none;color:#fff}"],changeDetection:0})};export{De as DashboardComponent};
