import{e as Pe}from"./chunk-ZJPKG6JX.js";import"./chunk-RQYTUILH.js";import{e as Ne,f as Be}from"./chunk-TP5JS6T5.js";import"./chunk-YQXRXCQE.js";import"./chunk-QMYQZUIR.js";import"./chunk-4IKHQH3D.js";import{c as Q,d as xe,e as Ae,f as Te,g as ke,h as Ve,i as q,k as z,l as J}from"./chunk-BTCE7JS5.js";import{f as re,h as le}from"./chunk-U6AR7ORX.js";import{d as W,e as L,f as se,g as G,h as Y,i as de,j,l as we,m as Re,q as Fe}from"./chunk-OULYMN3A.js";import{$ as H,Ba as De,Ca as k,Fa as Ie,Ga as V,Ia as be,Ma as Ce,Na as F,da as ce,ia as me,ja as ue,ka as pe,la as ge,ma as E,na as Ee,oa as _e,qa as fe,ra as he,ta as A,ua as T,va as Me,wa as ve,xa as ye,ya as Se}from"./chunk-H5IADLD3.js";import{m as oe}from"./chunk-4MNQX6OK.js";import{Ab as f,Bb as h,Cb as M,Db as t,Eb as e,Fb as I,Jb as O,Nb as b,Ob as x,Va as s,Xb as ee,Yb as n,Zb as g,_a as B,_b as te,ac as v,ba as _,bc as y,cc as S,ec as ae,fb as R,fc as D,hc as ie,ja as u,jc as ne,ka as p,lb as $,tb as m,ya as Z,yb as P}from"./chunk-77CAPYCR.js";import{a as N}from"./chunk-2NFLSA4Y.js";function Le(r,l){if(r&1){let a=O();t(0,"tr")(1,"td",8),b("click",function(){let d=u(a).$implicit,c=x();return p(c.navigateToDashboard(d.raceMatchId))}),n(2),e(),t(3,"td",7),n(4),e(),t(5,"td",7),n(6),e(),t(7,"td",7),n(8),e(),t(9,"td",7),n(10),ie(11,"date"),e(),t(12,"td",7)(13,"div",9)(14,"div",10)(15,"img",11),b("click",function(){let d=u(a).$implicit,c=x();return p(c.openEdit("0ms","0ms",d.raceMatchId))}),e()(),t(16,"div",10)(17,"img",12),b("click",function(){let d=u(a).$implicit,c=x();return p(c.openRaceDelete("0ms","0ms",d.raceMatchId))}),e()()()()()}if(r&2){let a=l.$implicit;s(2),g(a.raceName),s(2),g(a.raceSegment),s(2),g(a.raceClass),s(2),g(a.raceSession),s(2),te("",ne(11,5,a.raceStart,"dd/MM/yyyy HH:mm")," ")}}var C=()=>({standalone:!0});function Ge(r,l){if(r&1&&(t(0,"mat-option",9),n(1),e()),r&2){let a=l.$implicit;m("value",a.value),s(),g(a.name)}}function Ye(r,l){if(r&1&&(t(0,"mat-option",9),n(1),e()),r&2){let a=l.$implicit;m("value",a.value),s(),g(a.name)}}function je(r,l){if(r&1&&(t(0,"mat-option",9),n(1),e()),r&2){let a=l.$implicit;m("value",a.value),s(),g(a.name)}}function He(r,l){if(r&1&&(t(0,"mat-option",9),n(1),e()),r&2){let a=l.$implicit;m("value",a.value),s(),g(a.name)}}function Qe(r,l){if(r&1&&(t(0,"mat-option",9),n(1),e()),r&2){let a=l.$implicit;m("value",a.value),s(),g(a.name)}}function qe(r,l){r&1&&(t(0,"mat-error"),n(1,"Invalid start date"),e())}function ze(r,l){r&1&&(t(0,"mat-error"),n(1,"Invalid end date"),e())}var X="button[_ngcontent-%COMP%]{margin-right:8px}.card-bg-transparen[_ngcontent-%COMP%]{--bs-bg-opacity: 1;background-color:transparent!important}",Oe=class r{constructor(l,a){this.router=l;this.route=a}dialog=_(se);allRace=[];ngOnInit(){this.allRace=[{raceMatchId:1,eventId:1,seasonId:1,raceName:"Thailand Super Pickup D2",raceSegment:"pickup",raceSession:"race5",raceClass:"c",raceStart:new Date("6/9/2024 15:10:00"),raceEnd:new Date("6/9/2024 15:30:00")}]}navigateToDashboard(l){this.router.navigate(["/pages","dashboard"])}openEdit(l,a,i){let d=this.allRace.filter(o=>o.raceMatchId==i);this.dialog.open(K,{width:"100vw",maxWidth:"750px",enterAnimationDuration:l,exitAnimationDuration:a,data:{race_data:d}}).afterClosed().subscribe(o=>{if(!o)return;let w=this.allRace.findIndex(We=>We.raceMatchId===o.raceMatchId);w>-1&&(this.allRace=[...this.allRace.slice(0,w),N(N({},this.allRace[w]),o),...this.allRace.slice(w+1)])})}openRaceDelete(l,a,i){this.dialog.open(U,{width:"100vw",maxWidth:"350px",enterAnimationDuration:l,exitAnimationDuration:a,data:{race_id:i}}).afterClosed().subscribe(c=>{console.log("The dialog was closed"),this.allRace=this.allRace.filter(o=>o.raceMatchId!==c)})}static \u0275fac=function(a){return new(a||r)(B(le),B(re))};static \u0275cmp=R({type:r,selectors:[["app-race"]],decls:25,vars:0,consts:[[1,"container",2,"margin-top","20px"],[1,"row"],["aria-label","Fish selection"],[1,"col-6","col-lg-3"],["disabled","",2,"width","auto"],[1,"col"],[1,"table","table-dark","table-striped","table-hover"],[1,"text-center"],[1,"text-center",3,"click"],[1,"row","d-flex","justify-content-center"],[1,"col-2"],["src","images/icon/icon_edit.png",2,"border-radius","0","height","24px",3,"click"],["src","images/icon/icon_delete.png",2,"border-radius","0","height","24px",3,"click"]],template:function(a,i){a&1&&(t(0,"div",0)(1,"div",1)(2,"mat-chip-set",2)(3,"div",3)(4,"mat-chip",4),n(5,"TSS Bangsaen Grand Prix 2025"),e()()()(),t(6,"div",1)(7,"div",5)(8,"table",6)(9,"thead")(10,"tr")(11,"th",7),n(12,"Category"),e(),t(13,"th",7),n(14,"\u0E23\u0E38\u0E48\u0E19"),e(),t(15,"th",7),n(16,"Session"),e(),t(17,"th",7),n(18,"Class"),e(),t(19,"th",7),n(20,"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E40\u0E23\u0E34\u0E48\u0E21\u0E41\u0E02\u0E48\u0E07"),e(),I(21,"th",7),e()(),t(22,"tbody"),h(23,Le,18,8,"tr",null,f),e()()()()()),a&2&&(s(23),M(i.allRace))},dependencies:[A,k,V,F,T,Pe,Ne,Be,oe],styles:[X]})},K=class r{raceMatchId=0;raceName="";eventList=[{value:1,name:"TSS Bangsaen Grand Prix 2025"}];seasonList=[{value:1,name:"TSS The Super Series by B-Quik 2025"}];sessionList=[{value:"Free Practice",name:"freepractice"},{value:"qualify",name:"Qualifying"},{value:"race1",name:"Race 1"},{value:"race2",name:"Race 2"},{value:"race3",name:"Race 3"},{value:"race4",name:"Race 4"},{value:"race5",name:"Race 5"}];raceSegment=[{value:"pickup",name:"Pickup"},{value:"touring",name:"Touring"}];classList=[{value:"a",name:"Class A"},{value:"b",name:"Class B"},{value:"c",name:"Class C"},{value:"ab",name:"Class A-B"},{value:"overall",name:"Over All"}];dialogRef=_(W);_adapter=_(Re);_locale=Z(_(we));data=_(L);range=new pe({start:new E(this.data.race_data[0].raceStart),end:new E(this.data.race_data[0].raceEnd)});eventId=new E(this.data.race_data[0].eventId);seasonId=new E(this.data.race_data[0].seasonId);classValue=new E(this.data.race_data[0].raceClass);sessionValue=new E(this.data.race_data[0].raceSession);eventName=new E(this.data.race_data[0].eventId);segmentValue=new E(this.data.race_data[0].raceSegment);ngOnInit(){console.log(this.data.race_data[0]),this.raceMatchId=this.data.race_data[0].raceMatchId,this.seasonId=this.data.race_data[0].seasonId,this.eventId=this.data.race_data[0].eventId,this.classValue=this.data.race_data[0].raceClass,this.sessionValue=this.data.race_data[0].raceSession,this.segmentValue=this.data.race_data[0].raceSegment,this.eventName=this.data.race_data[0].eventId,this.raceName=this.data.race_data[0].raceName,this._locale.set("fr"),this._adapter.setLocale(this._locale())}onSubmit(){let l={raceMatchId:this.raceMatchId,raceName:this.raceName,eventId:this.eventId,seasonId:this.seasonId,raceSegment:this.raceSegment,raceSession:this.sessionValue,raceClass:this.classValue,raceStart:this.range.controls.start.value,raceEnd:this.range.controls.end.value};this.dialogRef.close(l)}static \u0275fac=function(a){return new(a||r)};static \u0275cmp=R({type:r,selectors:[["dialog-animations-race-dialog"]],features:[ae([Fe()])],decls:74,vars:23,consts:[["picker",""],["mat-dialog-title",""],[1,"card","card-bg-transparen"],[1,"card-body"],[1,"row"],[1,"col-6"],[1,"mat-input-form"],[1,"w-100"],[3,"ngModelChange","ngModelOptions","ngModel"],[3,"value"],[2,"margin","0.3rem 0","color","#FFF"],[1,"row","mt-3"],["matInput","",1,"text-center",3,"ngModelChange","ngModelOptions","ngModel"],[1,"col-3"],[1,"col-9"],["mat-label",""],[3,"formGroup","rangePicker"],["matStartDate","","formControlName","start","placeholder","Start date"],["matEndDate","","formControlName","end","placeholder","End date"],[1,"text-light"],["matIconSuffix","",3,"for"],["type","button","matButton","","mat-dialog-close","",1,"btn","btn-danger"],["type","button","matButton","","mat-dialog-close","","cdkFocusInitial","",1,"btn","btn-success",3,"click"]],template:function(a,i){if(a&1){let d=O();t(0,"h2",1),n(1,"\u0E41\u0E01\u0E49\u0E44\u0E02 Race"),e(),t(2,"mat-dialog-content")(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"form",6)(8,"mat-form-field",7)(9,"mat-label"),n(10,"\u0E40\u0E25\u0E37\u0E2D\u0E01 \u0E23\u0E32\u0E22\u0E01\u0E32\u0E23"),e(),t(11,"mat-select",8),S("ngModelChange",function(o){return u(d),y(i.seasonId,o)||(i.seasonId=o),p(o)}),h(12,Ge,2,2,"mat-option",9,f),e()()()(),t(14,"div",5)(15,"form",6)(16,"mat-form-field",7)(17,"mat-label"),n(18,"\u0E40\u0E25\u0E37\u0E2D\u0E01 Event"),e(),t(19,"mat-select",8),S("ngModelChange",function(o){return u(d),y(i.eventId,o)||(i.eventId=o),p(o)}),h(20,Ye,2,2,"mat-option",9,f),e()()()()(),I(22,"hr",10),t(23,"div",11)(24,"div",5)(25,"form",6)(26,"mat-form-field",7)(27,"mat-label"),n(28,"\u0E0A\u0E37\u0E48\u0E2D Race"),e(),t(29,"input",12),S("ngModelChange",function(o){return u(d),y(i.raceName,o)||(i.raceName=o),p(o)}),e()()()(),t(30,"div",13)(31,"form",6)(32,"mat-form-field",7)(33,"mat-label"),n(34,"\u0E23\u0E38\u0E48\u0E19"),e(),t(35,"mat-select",8),S("ngModelChange",function(o){return u(d),y(i.segmentValue,o)||(i.segmentValue=o),p(o)}),h(36,je,2,2,"mat-option",9,f),e()()()(),t(38,"div",13)(39,"form",6)(40,"mat-form-field",7)(41,"mat-label"),n(42,"Class"),e(),t(43,"mat-select",8),S("ngModelChange",function(o){return u(d),y(i.classValue,o)||(i.classValue=o),p(o)}),h(44,He,2,2,"mat-option",9,f),e()()()(),t(46,"div",13)(47,"form",6)(48,"mat-form-field",7)(49,"mat-label"),n(50,"Session"),e(),t(51,"mat-select",8),S("ngModelChange",function(o){return u(d),y(i.sessionValue,o)||(i.sessionValue=o),p(o)}),h(52,Qe,2,2,"mat-option",9,f),e()()()(),t(54,"div",14)(55,"form",6)(56,"mat-form-field",7)(57,"mat-label",15),n(58,"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E40\u0E23\u0E34\u0E48\u0E21 - \u0E2A\u0E34\u0E49\u0E19\u0E2A\u0E38\u0E14 race"),e(),t(59,"mat-date-range-input",16),I(60,"input",17)(61,"input",18),e(),t(62,"mat-hint",19),n(63,"DD/MM/YYYY \u2013 DD/MM/YYYY"),e(),I(64,"mat-datepicker-toggle",20)(65,"mat-date-range-picker",null,0),$(67,qe,2,0,"mat-error")(68,ze,2,0,"mat-error"),e()()()()()()(),t(69,"mat-dialog-actions")(70,"button",21),n(71,"close"),e(),t(72,"button",22),b("click",function(){return u(d),p(i.onSubmit())}),n(73,"submit"),e()()}if(a&2){let d=ee(66);s(11),m("ngModelOptions",D(17,C)),v("ngModel",i.seasonId),s(),M(i.seasonList),s(7),m("ngModelOptions",D(18,C)),v("ngModel",i.eventId),s(),M(i.eventList),s(9),m("ngModelOptions",D(19,C)),v("ngModel",i.raceName),s(6),m("ngModelOptions",D(20,C)),v("ngModel",i.segmentValue),s(),M(i.raceSegment),s(7),m("ngModelOptions",D(21,C)),v("ngModel",i.classValue),s(),M(i.classList),s(7),m("ngModelOptions",D(22,C)),v("ngModel",i.sessionValue),s(),M(i.sessionList),s(7),m("formGroup",i.range)("rangePicker",d),s(5),m("for",d),s(3),P(i.range.controls.start.hasError("matStartDateInvalid")?67:-1),s(),P(i.range.controls.end.hasError("matEndDateInvalid")?68:-1)}},dependencies:[H,j,G,Y,de,Q,A,_e,ce,me,ue,Ee,ge,k,De,Me,ye,ve,Se,V,Ie,F,Ce,be,T,fe,he,q,xe,Ae,Te,ke,Ve,z,J],styles:[X],changeDetection:0})},U=class r{raceMatchId=0;dialogRef=_(W);data=_(L);ngOnInit(){console.log(this.data.race_id),this.raceMatchId=this.data.race_id}onSubmit(){this.dialogRef.close(this.raceMatchId)}static \u0275fac=function(a){return new(a||r)};static \u0275cmp=R({type:r,selectors:[["dialog-animations-race-dialog"]],decls:11,vars:0,consts:[["mat-dialog-title","",1,"text-center"],[2,"color","#dc3545"],["type","button","matButton","","mat-dialog-close","",1,"btn","btn-danger"],["type","button","matButton","","mat-dialog-close","","cdkFocusInitial","",1,"btn","btn-success",3,"click"]],template:function(a,i){a&1&&(t(0,"h2",0),n(1,"\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23 "),t(2,"b",1),n(3,"\u0E25\u0E1A Race"),e(),I(4,"br"),n(5,` \u0E2B\u0E23\u0E37\u0E2D\u0E44\u0E21\u0E48?
`),e(),t(6,"mat-dialog-actions")(7,"button",2),n(8,"\u0E22\u0E01\u0E40\u0E25\u0E34\u0E01"),e(),t(9,"button",3),b("click",function(){return i.onSubmit()}),n(10,"\u0E22\u0E37\u0E19\u0E22\u0E31\u0E19"),e()())},dependencies:[H,j,G,Y,Q,A,k,V,F,T,q,z,J],styles:[X],changeDetection:0})};export{K as DialogAnimationsModalEdit,U as DialogAnimationsRaceModalDelete,Oe as RaceComponent};
