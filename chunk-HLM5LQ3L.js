import{a as pe}from"./chunk-5ZMWBG4L.js";import{B as v,G as le,H as ge,I as me,J as se,a as L,b as D,c as H,d as I,e as N,f as x,g as J,q as T,t as b}from"./chunk-AG4WYI6M.js";import{C as re,D as ae,y as ne}from"./chunk-X67DBSAQ.js";import{a as de,c as ce,e as ue}from"./chunk-33NYFVWI.js";import{Aa as oe,V as E,Z as K,ca as Q,da as U,fa as X,ha as Y,ia as Z,na as w,pa as $,va as ee,wa as te,za as ie}from"./chunk-P5ZCIYX7.js";import"./chunk-OPS6CX6Y.js";import{Aa as f,Ka as p,P as c,Qa as B,Sa as W,Ta as j,Ua as t,V as A,Va as i,W as P,Wa as _,_a as V,bb as d,cb as R,lb as G,mb as n,nb as q,ob as z,qa as m,qb as M,rb as h,sb as C,ub as y,va as s,vb as S}from"./chunk-EXJ2PHFM.js";import"./chunk-EQDQRRRY.js";var k=()=>({standalone:!0}),F=class g{constructor(r,e){this.eventService=r;this.toastr=e}dialogRef=c(L);data=c(D);id=this.data.id;car_number=this.data.carNumber;logger_id=this.data.loggerId;firstName=this.data.firstName;lastName=this.data.lastName;ngOnInit(){}onNoClick(){let r={id:this.id,logger_id:this.logger_id,car_number:this.car_number,first_name:this.firstName,last_name:this.lastName,creat_date:new Date};this.eventService.updateEditLogger(r).subscribe(e=>{console.log("Match added/updated successfully:",e),this.dialogRef.close("success")},e=>{console.error("Error adding/updating match:",e),this.toastr.error("\u0E40\u0E01\u0E34\u0E14\u0E02\u0E49\u0E2D\u0E1C\u0E34\u0E14\u0E1E\u0E25\u0E32\u0E14\u0E43\u0E19\u0E01\u0E32\u0E23\u0E40\u0E1E\u0E34\u0E48\u0E21/\u0E41\u0E01\u0E49\u0E44\u0E02 match")})}static \u0275fac=function(e){return new(e||g)(s(b),s(v))};static \u0275cmp=f({type:g,selectors:[["app-edit-logger"]],features:[y([T()])],decls:35,vars:12,consts:[["mat-dialog-title",""],[1,"card","card-bg-transparen"],[1,"card-body","bg-transparen"],[1,"row"],[1,"col-12"],[1,"mat-input-form"],[1,"w-100"],["matInput","","disabled","",1,"text-center",3,"ngModelChange","ngModelOptions","ngModel"],["matInput","",1,"text-center",3,"ngModelChange","ngModelOptions","ngModel"],[1,"col-6"],["type","button","matButton","","mat-dialog-close","",1,"btn","btn-danger"],["type","button","matButton","","cdkFocusInitial","",1,"btn","btn-success",3,"click"]],template:function(e,o){e&1&&(t(0,"h2",0),n(1,"\u0E41\u0E01\u0E49\u0E44\u0E02 Logger"),i(),t(2,"mat-dialog-content")(3,"div",1)(4,"div",2)(5,"div",3)(6,"div",4)(7,"form",5)(8,"mat-form-field",6)(9,"mat-label"),n(10,"Logger ID "),i(),t(11,"input",7),C("ngModelChange",function(l){return h(o.logger_id,l)||(o.logger_id=l),l}),i()()()(),t(12,"div",4)(13,"form",5)(14,"mat-form-field",6)(15,"mat-label"),n(16,"\u0E2B\u0E21\u0E32\u0E22\u0E40\u0E25\u0E02\u0E23\u0E16 "),i(),t(17,"input",8),C("ngModelChange",function(l){return h(o.car_number,l)||(o.car_number=l),l}),i()()()(),t(18,"div",9)(19,"form",5)(20,"mat-form-field",6)(21,"mat-label"),n(22,"\u0E0A\u0E37\u0E48\u0E2D"),i(),t(23,"input",8),C("ngModelChange",function(l){return h(o.firstName,l)||(o.firstName=l),l}),i()()()(),t(24,"div",9)(25,"form",5)(26,"mat-form-field",6)(27,"mat-label"),n(28,"\u0E19\u0E32\u0E21\u0E2A\u0E01\u0E38\u0E25"),i(),t(29,"input",8),C("ngModelChange",function(l){return h(o.lastName,l)||(o.lastName=l),l}),i()()()()()()()(),t(30,"mat-dialog-actions")(31,"button",10),n(32,"close"),i(),t(33,"button",11),d("click",function(){return o.onNoClick()}),n(34,"submit"),i()()),e&2&&(m(11),p("ngModelOptions",S(8,k)),M("ngModel",o.logger_id),m(6),p("ngModelOptions",S(9,k)),M("ngModel",o.car_number),m(6),p("ngModelOptions",S(10,k)),M("ngModel",o.firstName),m(6),p("ngModelOptions",S(11,k)),M("ngModel",o.lastName))},dependencies:[E,J,I,N,x,w,Z,K,Q,U,Y,X,te,ee,$,oe,ie],styles:["button[_ngcontent-%COMP%]{margin-right:8px}.card-bg-transparen[_ngcontent-%COMP%]{--bs-bg-opacity: 1;background-color:transparent!important}.card-bg-gray[_ngcontent-%COMP%]{--bs-bg-opacity: 1;background-color:#fff!important}"],changeDetection:0})};var O=class g{constructor(r,e){this.eventService=r;this.toastr=e}dialogRef=c(L);data=c(D);logger_id=this.data.loggerId;id=this.data.id;car_number=this.data.carNumber;ngOnInit(){}onNoClick(){this.dialogRef.close()}onSubmitDelete(){let r={id:this.id,logger_id:this.logger_id,car_number:this.car_number};this.eventService.deleteLogger(r).subscribe(e=>{console.log("Match added/updated successfully:",e),this.toastr.success(`\u0E25\u0E1A Logger ${this.logger_id} \u0E2A\u0E33\u0E40\u0E23\u0E47\u0E08`),this.dialogRef.close("success")},e=>{console.error("Error adding/updating match:",e),this.toastr.error("\u0E40\u0E01\u0E34\u0E14\u0E02\u0E49\u0E2D\u0E1C\u0E34\u0E14\u0E1E\u0E25\u0E32\u0E14\u0E43\u0E19\u0E01\u0E32\u0E23 \u0E25\u0E1A Logger")})}static \u0275fac=function(e){return new(e||g)(s(b),s(v))};static \u0275cmp=f({type:g,selectors:[["app-delete-logger"]],features:[y([T()])],decls:13,vars:0,consts:[["mat-dialog-title","",1,"text-center"],[2,"color","#dc3545"],[1,"row"],[1,"col-12","d-flex","justify-content-center","mt-2"],["type","button","matButton","","mat-dialog-close","",1,"btn","btn-danger",3,"click"],["type","button","matButton","","cdkFocusInitial","",1,"btn","btn-success",3,"click"]],template:function(e,o){e&1&&(t(0,"h2",0),n(1,"\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23 "),t(2,"b",1),n(3,"\u0E25\u0E1A Logger"),i(),_(4,"br"),n(5,` \u0E2B\u0E23\u0E37\u0E2D\u0E44\u0E21\u0E48?
`),i(),t(6,"mat-dialog-content")(7,"div",2)(8,"div",3)(9,"button",4),d("click",function(){return o.onNoClick()}),n(10,"\u0E22\u0E01\u0E40\u0E25\u0E34\u0E01"),i(),t(11,"button",5),d("click",function(){return o.onSubmitDelete()}),n(12,"\u0E22\u0E37\u0E19\u0E22\u0E31\u0E19"),i()()()())},dependencies:[E,I,x,N,w],styles:["button[_ngcontent-%COMP%]{margin-right:8px}.card-bg-transparen[_ngcontent-%COMP%]{--bs-bg-opacity: 1;background-color:transparent!important}.card-bg-gray[_ngcontent-%COMP%]{--bs-bg-opacity: 1;background-color:#fff!important}"],changeDetection:0})};function Me(g,r){if(g&1){let e=V();t(0,"div",7)(1,"mat-card",8)(2,"mat-card-content")(3,"div",2)(4,"div",9)(5,"h3",10)(6,"span",11),n(7),i()()(),t(8,"div",9)(9,"h3",10)(10,"span",11),n(11),i()()()(),_(12,"hr",12),t(13,"div",13)(14,"div",14)(15,"button",15),n(16," Offline "),i(),t(17,"button",16)(18,"mat-icon"),n(19,"settings"),i()(),t(20,"mat-menu",null,0)(22,"button",17),d("click",function(){let a=A(e).$implicit,l=R();return P(l.settingLogger("0ms","0ms",a.loggerId))}),t(23,"mat-icon"),n(24,"settings"),i(),t(25,"span"),n(26,"\u0E15\u0E31\u0E49\u0E07\u0E04\u0E48\u0E32 Logger"),i()(),t(27,"button",17),d("click",function(){let a=A(e).$implicit,l=R();return P(l.deleteLogger("0ms","0ms",a.loggerId))}),t(28,"mat-icon"),n(29,"delete"),i(),t(30,"span"),n(31,"\u0E25\u0E1A Logger"),i()()()()()()()()}if(g&2){let e=r.$implicit,o=G(21);m(7),z("No.",e.carNumber,""),m(4),q(e.loggerId),m(6),p("matMenuTriggerFor",o)}}var _e=class g{constructor(r,e){this.eventService=r;this.toastr=e}dialog=c(H);subscriptions=[];loggerData=[];allLoggers=[];ngOnInit(){this.loadLogger()}addLogger(r,e){this.dialog.open(pe,{width:"100vw",maxWidth:"750px",enterAnimationDuration:r,exitAnimationDuration:e}).afterClosed().subscribe(a=>{console.log("The dialog was closed"),a=="success"&&this.loadLogger()})}settingLogger(r,e,o){let a=this.allLoggers.filter(u=>u.loggerId==o);this.dialog.open(F,{width:"100vw",maxWidth:"350px",enterAnimationDuration:r,exitAnimationDuration:e,data:{id:a[0].id,firstName:a[0].firstName,lastName:a[0].lastName,carNumber:a[0].carNumber,loggerId:a[0].loggerId}}).afterClosed().subscribe(u=>{u=="success"&&(this.toastr.success(`\u0E41\u0E01\u0E49\u0E44\u0E02\u0E02\u0E49\u0E2D\u0E2D\u0E21\u0E39\u0E25 ${a[0].loggerId} \u0E2A\u0E33\u0E40\u0E23\u0E47\u0E08`),this.loadLogger())})}deleteLogger(r,e,o){let a=this.allLoggers.filter(u=>u.loggerId==o);this.dialog.open(O,{width:"100vw",maxWidth:"150px",enterAnimationDuration:r,exitAnimationDuration:e,data:{loggerId:a[0].loggerId}}).afterClosed().subscribe(u=>{u=="success"&&this.loadLogger()})}loadLogger(){this.allLoggers=[];let r=this.eventService.getLogger().subscribe(e=>{this.allLoggers=e},e=>{console.error("Error loading matchList:",e)});this.subscriptions.push(r)}static \u0275fac=function(e){return new(e||g)(s(b),s(v))};static \u0275cmp=f({type:g,selectors:[["app-setting-logger"]],decls:12,vars:0,consts:[["menu","matMenu"],[1,"container",2,"margin-top","20px"],[1,"row"],[1,"col-6"],[1,"col-6","d-flex","justify-content-end"],["type","button",1,"btn","btn-secondary",3,"click"],[2,"margin","0.3rem 0","color","#FFF"],[1,"col-6","col-sm-4","col-lg-3","mt-3"],["appearance","outlined",1,"logger-card"],[1,"col-12"],[2,"margin","0.5rem 0 0 0"],[1,"badge","text-bg-secondary","w-100"],[2,"margin","0.3rem 0"],[1,"row","justify-content-center"],[1,"col-6","mt-1","pe-0","d-flex","justify-content-center"],["type","button",1,"btn","btn-secondary","w-100"],["matButton","","type","button",1,"btn","btn-outline-secondary","d-flex",2,"margin-left","10px",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"]],template:function(e,o){e&1&&(t(0,"div",1)(1,"div",2)(2,"div",3)(3,"h3"),n(4,"\u0E15\u0E31\u0E49\u0E07\u0E04\u0E48\u0E32 Logger"),i()(),t(5,"div",4)(6,"button",5),d("click",function(){return o.addLogger("0ms","0ms")}),n(7,"\u0E40\u0E1E\u0E34\u0E48\u0E21 Logger"),i()()(),_(8,"hr",6),t(9,"div",2),W(10,Me,32,3,"div",7,B),i()()),e&2&&(m(10),j(o.allLoggers))},dependencies:[ue,de,ce,se,ge,le,me,ne,E,ae,re],encapsulation:2})};export{_e as SettingLoggerComponent};
