import{c as G,d as ke,e as Ae,f as Re,g as Pe,h as Be,i as H,k as z,l as J}from"./chunk-ZA4MKY6L.js";import{g as de,i as me}from"./chunk-4NFA6V3F.js";import{d as B,e as V,f as ce,g as O,h as L,i as ue,j as Y,l as Ne,m as Fe,q as Ve}from"./chunk-VB2LZF4M.js";import{$ as W,Ba as we,Ca as K,Fa as Ce,Ga as q,Ia as xe,Na as Te,Oa as Q,da as pe,ia as ge,ja as Ee,ka as ve,la as fe,ma as M,na as _e,oa as Me,qa as he,ra as De,ta as $,ua as j,va as ye,wa as Se,xa as be,ya as Ie}from"./chunk-HELSPFFA.js";import"./chunk-W2SGJ6TU.js";import{$b as l,Ab as R,Cb as y,Db as S,Eb as b,Fb as n,Gb as t,Hb as v,Lb as P,Qb as f,Rb as I,Wa as m,_b as ae,ab as A,ac as _,ba as c,bc as oe,dc as w,ec as C,fc as x,hb as D,hc as re,ic as T,ja as u,ka as p,kb as ie,kc as le,nb as ne,nc as se,vb as g,ya as te}from"./chunk-N537WN2U.js";import{a as k}from"./chunk-7CGTOI24.js";var N=class o{transform(r,e,i="en-GB"){if(!r||!e)return"";let a=new Date(r),d=new Date(e);if(isNaN(a.getTime())||isNaN(d.getTime()))return"";let s=a.getFullYear()===d.getFullYear()&&a.getMonth()===d.getMonth(),E=a.getFullYear()===d.getFullYear(),F=new Intl.DateTimeFormat(i,{day:"numeric"}),Le=new Intl.DateTimeFormat(i,{day:"numeric",month:"short"}),h=new Intl.DateTimeFormat(i,{day:"numeric",month:"short",year:"numeric"});return s?`${F.format(a)} - ${h.format(d)}`:E?`${Le.format(a)} - ${h.format(d)}`:`${h.format(a)} - ${h.format(d)}`}static \u0275fac=function(e){return new(e||o)};static \u0275pipe=ie({name:"dateRange",type:o,pure:!0})};function We(o,r){if(o&1){let e=P();n(0,"tr")(1,"td",5),f("click",function(){u(e);let a=I();return p(a.navigateToRace())}),l(2),t(),n(3,"td",4),l(4),le(5,"dateRange"),t(),n(6,"td",4),l(7),t(),n(8,"td",4)(9,"div",6)(10,"div",7)(11,"img",8),f("click",function(){let a=u(e).$implicit,d=I();return p(d.openEdit("0ms","0ms",a.eventId))}),t()(),n(12,"div",7)(13,"img",9),f("click",function(){let a=u(e).$implicit,d=I();return p(d.openDelete("0ms","0ms",a.eventId))}),t()()()()()}if(o&2){let e=r.$implicit;m(2),_(e.eventName),m(2),oe(" ",se(5,3,e.eventStart,e.eventEnd,"en-GB")," "),m(3),_(e.circuitName)}}var U=()=>({standalone:!0});function Ge(o,r){if(o&1&&(n(0,"mat-option",9),l(1),t()),o&2){let e=r.$implicit;g("value",e.value),m(),_(e.name)}}function $e(o,r){if(o&1&&(n(0,"mat-option",9),l(1),t()),o&2){let e=r.$implicit;g("value",e.value),m(),_(e.name)}}function je(o,r){o&1&&(n(0,"mat-error"),l(1,"Invalid start date"),t())}function Ke(o,r){o&1&&(n(0,"mat-error"),l(1,"Invalid end date"),t())}var ee="button[_ngcontent-%COMP%]{margin-right:8px}.card-bg-transparen[_ngcontent-%COMP%]{--bs-bg-opacity: 1;background-color:transparent!important}",Oe=class o{constructor(r,e){this.router=r;this.route=e}dialog=c(ce);allEvent=[];ngOnInit(){this.allEvent=[{eventId:1,seasonId:1,eventName:"TSS Bangsaen Grand Prix 2025",circuitName:"bsc",eventStart:new Date("6/9/2024 15:10:00"),eventEnd:new Date("6/10/2024 15:30:00")}]}navigateToRace(){this.router.navigate(["/pages","race"])}openEdit(r,e,i){let a=this.allEvent.filter(s=>s.eventId==i);this.dialog.open(X,{width:"100vw",maxWidth:"750px",enterAnimationDuration:r,exitAnimationDuration:e,data:{event_data:a}}).afterClosed().subscribe(s=>{if(!s)return;let E=this.allEvent.findIndex(F=>F.eventId===s.eventId);E>-1&&(this.allEvent=[...this.allEvent.slice(0,E),k(k({},this.allEvent[E]),s),...this.allEvent.slice(E+1)])})}openDelete(r,e,i){this.dialog.open(Z,{width:"100vw",maxWidth:"350px",enterAnimationDuration:r,exitAnimationDuration:e,data:{event_id:i}}).afterClosed().subscribe(d=>{console.log("The dialog was closed"),this.allEvent=this.allEvent.filter(s=>s.eventId!==d)})}static \u0275fac=function(e){return new(e||o)(A(me),A(de))};static \u0275cmp=D({type:o,selectors:[["app-event"]],decls:16,vars:0,consts:[[1,"container",2,"margin-top","20px"],[1,"row"],[1,"col"],[1,"table","table-dark","table-striped","table-hover"],[1,"text-center"],[1,"text-center",3,"click"],[1,"row","d-flex","justify-content-center"],[1,"col-2"],["src","images/icon/icon_edit.png",2,"border-radius","0","height","24px",3,"click"],["src","images/icon/icon_delete.png",2,"border-radius","0","height","24px",3,"click"]],template:function(e,i){e&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"table",3)(4,"thead")(5,"tr")(6,"th",4),l(7,"Event"),t(),n(8,"th",4),l(9,"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E08\u0E31\u0E14\u0E01\u0E32\u0E23\u0E41\u0E02\u0E48\u0E07"),t(),n(10,"th",4),l(11,"\u0E2A\u0E19\u0E32\u0E21"),t(),v(12,"th",4),t()(),n(13,"tbody"),S(14,We,14,7,"tr",null,y),t()()()()()),e&2&&(m(14),b(i.allEvent))},dependencies:[N],styles:[ee]})},X=class o{eventName="";eventId=0;circuitName="";seasonId=0;dateSessionStart=new M(new Date);dateSessionEnd=new M(new Date);seasonList=[{value:1,name:"TSS The Super Series by B-Quik 2025"},{value:2,name:"TSS The Super Series by B-Quik 2024"}];mapsList=[{value:"bsc",name:"Bangsaen Street Circuit, Thailand"},{value:"sic",name:"Petronas Sepang International Circuit, Malaysia"},{value:"bric",name:"Buriram International Circuit, Thailand"}];order=["freePractice","qualifying","race1","race2","race3","race4","race5"];labelMap={freePractice:"Free Practice",qualifying:"Qualifying",race1:"Race 1",race2:"Race 2",race3:"Race 3",race4:"Race 4",race5:"Race 5"};dialogRef=c(B);data=c(V);_adapter=c(Fe);_locale=te(c(Ne));range=new ve({start:new M(this.data.event_data[0].eventStart),end:new M(this.data.event_data[0].eventEnd)});constructor(){}ngOnInit(){console.log(this.data.event_data[0]),this.eventId=this.data.event_data[0].eventId,this.eventName=this.data.event_data[0].eventName,this.circuitName=this.data.event_data[0].circuitName,this.seasonId=this.data.event_data[0].seasonId,this.dateSessionStart=this.data.event_data[0].eventStart,this.dateSessionEnd=this.data.event_data[0].eventEnd,this._locale.set("fr"),this._adapter.setLocale(this._locale())}onNoClick(){let r={eventName:this.eventName,eventId:this.eventId,circuitName:this.circuitName,seasonId:this.seasonId,dateSessionStart:this.range.controls.start,dateSessionEnd:this.range.controls.end};this.dialogRef.close(r)}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=D({type:o,selectors:[["dialog-animations-example-dialog"]],features:[re([Ve()])],decls:50,vars:14,consts:[["picker",""],["mat-dialog-title",""],[1,"card","card-bg-transparen"],[1,"card-body"],[1,"row"],[1,"col-12"],[1,"mat-input-form"],[1,"w-100"],[3,"ngModelChange","ngModelOptions","ngModel"],[3,"value"],[2,"margin","0.3rem 0","color","#FFF"],[1,"row","mt-3"],[1,"col-6"],["matInput","",1,"text-center",3,"ngModelChange","ngModelOptions","ngModel"],["mat-label",""],[3,"formGroup","rangePicker"],["matStartDate","","formControlName","start","placeholder","Start date"],["matEndDate","","formControlName","end","placeholder","End date"],[1,"text-light"],["matIconSuffix","",3,"for"],["type","button","matButton","","mat-dialog-close","",1,"btn","btn-danger"],["type","button","matButton","","mat-dialog-close","","cdkFocusInitial","",1,"btn","btn-success",3,"click"]],template:function(e,i){if(e&1){let a=P();n(0,"h2",1),l(1,"\u0E41\u0E01\u0E49\u0E44\u0E02 Event"),t(),n(2,"mat-dialog-content")(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"form",6)(8,"mat-form-field",7)(9,"mat-label"),l(10,"\u0E40\u0E25\u0E37\u0E2D\u0E01 \u0E23\u0E32\u0E22\u0E01\u0E32\u0E23"),t(),n(11,"mat-select",8),x("ngModelChange",function(s){return u(a),C(i.seasonId,s)||(i.seasonId=s),p(s)}),S(12,Ge,2,2,"mat-option",9,y),t()()()()(),v(14,"hr",10),n(15,"div",11)(16,"div",12)(17,"form",6)(18,"mat-form-field",7)(19,"mat-label"),l(20,"\u0E0A\u0E37\u0E48\u0E2D Event"),t(),n(21,"input",13),x("ngModelChange",function(s){return u(a),C(i.eventName,s)||(i.eventName=s),p(s)}),t()()()(),n(22,"div",12)(23,"form",6)(24,"mat-form-field",7)(25,"mat-label"),l(26,"\u0E40\u0E25\u0E37\u0E2D\u0E01 \u0E2A\u0E19\u0E32\u0E21"),t(),n(27,"mat-select",8),x("ngModelChange",function(s){return u(a),C(i.circuitName,s)||(i.circuitName=s),p(s)}),S(28,$e,2,2,"mat-option",9,y),t()()()(),n(30,"div",5)(31,"form",6)(32,"mat-form-field",7)(33,"mat-label",14),l(34,"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E40\u0E23\u0E34\u0E48\u0E21 - \u0E2A\u0E34\u0E49\u0E19\u0E2A\u0E38\u0E14 Event"),t(),n(35,"mat-date-range-input",15),v(36,"input",16)(37,"input",17),t(),n(38,"mat-hint",18),l(39,"DD/MM/YYYY \u2013 DD/MM/YYYY"),t(),v(40,"mat-datepicker-toggle",19)(41,"mat-date-range-picker",null,0),ne(43,je,2,0,"mat-error")(44,Ke,2,0,"mat-error"),t()()()()()()(),n(45,"mat-dialog-actions")(46,"button",20),l(47,"close"),t(),n(48,"button",21),f("click",function(){return u(a),p(i.onNoClick())}),l(49,"submit"),t()()}if(e&2){let a=ae(42);m(11),g("ngModelOptions",T(11,U)),w("ngModel",i.seasonId),m(),b(i.seasonList),m(9),g("ngModelOptions",T(12,U)),w("ngModel",i.eventName),m(6),g("ngModelOptions",T(13,U)),w("ngModel",i.circuitName),m(),b(i.mapsList),m(7),g("formGroup",i.range)("rangePicker",a),m(5),g("for",a),m(3),R(i.range.controls.start.hasError("matStartDateInvalid")?43:-1),m(),R(i.range.controls.end.hasError("matEndDateInvalid")?44:-1)}},dependencies:[W,Y,O,L,ue,G,$,Me,pe,ge,Ee,_e,fe,K,we,ye,be,Se,Ie,q,Ce,Q,Te,xe,j,he,De,H,ke,Ae,Re,Pe,Be,z,J],styles:[ee],changeDetection:0})},Z=class o{eventId="";dialogRef=c(B);data=c(V);ngOnInit(){console.log(this.data.event_id),this.eventId=this.data.event_id}onSubmit(){this.dialogRef.close(this.eventId)}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=D({type:o,selectors:[["dialog-animations-example-dialog"]],decls:11,vars:0,consts:[["mat-dialog-title","",1,"text-center"],[2,"color","#dc3545"],["type","button","matButton","","mat-dialog-close","",1,"btn","btn-danger"],["type","button","matButton","","mat-dialog-close","","cdkFocusInitial","",1,"btn","btn-success",3,"click"]],template:function(e,i){e&1&&(n(0,"h2",0),l(1,"\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23 "),n(2,"b",1),l(3,"\u0E25\u0E1A Event"),t(),v(4,"br"),l(5,` \u0E2B\u0E23\u0E37\u0E2D\u0E44\u0E21\u0E48?
`),t(),n(6,"mat-dialog-actions")(7,"button",2),l(8,"\u0E22\u0E01\u0E40\u0E25\u0E34\u0E01"),t(),n(9,"button",3),f("click",function(){return i.onSubmit()}),l(10,"\u0E22\u0E37\u0E19\u0E22\u0E31\u0E19"),t()())},dependencies:[W,Y,O,L,G,$,K,q,Q,j,H,z,J],styles:[ee],changeDetection:0})};export{Z as DialogAnimationsModalDelete,X as DialogAnimationsModalEdit,Oe as EventComponent};
