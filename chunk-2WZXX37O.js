import{a as j,b as A,c as B,d as D,e as R}from"./chunk-33NYFVWI.js";import{Aa as N,U as S,V as b,Z as I,ca as T,ha as E,na as k,pa as x,va as P,wa as F,za as W}from"./chunk-P5ZCIYX7.js";import{a as H}from"./chunk-OPS6CX6Y.js";import{Aa as M,Ga as C,Ka as p,Qb as y,Ua as n,Ub as L,Va as i,bb as u,cb as h,cc as w,mb as r,nb as _,ob as v,qa as a,qb as g,rb as c,sb as f,va as l}from"./chunk-EXJ2PHFM.js";import"./chunk-EQDQRRRY.js";function V(m,s){if(m&1&&(n(0,"div",8),r(1),i()),m&2){let t=h();a(),_(t.errorMsg)}}var U=class m{constructor(s,t){this.auth=s;this.router=t}username="";password="";isLoading=!1;errorMsg="";navigateToMainPage(){this.onSubmit()}onSubmit(){this.errorMsg="",this.isLoading=!0;let{ok:s,error:t}=this.auth.login(this.username.trim(),this.password);if(this.isLoading=!1,!s){this.errorMsg=t??"Login failed";return}this.router.navigate(["/pages/dashboard"])}static \u0275fac=function(t){return new(t||m)(l(H),l(w))};static \u0275cmp=M({type:m,selectors:[["app-login"]],decls:17,vars:5,consts:[[1,"d-flex","justify-content-center","align-items-center","vh-100"],["appearance","outlined",2,"width","450px"],[1,"justify-content-center","mb-3"],["appearance","outline",1,"w-100"],["matInput","","type","text",3,"ngModelChange","ngModel"],["matInput","","type","password",3,"ngModelChange","keyup.enter","ngModel"],["mat-raised-button","","color","primary",1,"w-100","mt-2",3,"click","disabled"],["class","mt-2 text-danger",4,"ngIf"],[1,"mt-2","text-danger"]],template:function(t,e){t&1&&(n(0,"div",0)(1,"mat-card",1)(2,"mat-card-header",2)(3,"mat-card-title"),r(4,"Login"),i()(),n(5,"mat-card-content")(6,"mat-form-field",3)(7,"mat-label"),r(8,"Username"),i(),n(9,"input",4),f("ngModelChange",function(o){return c(e.username,o)||(e.username=o),o}),i()(),n(10,"mat-form-field",3)(11,"mat-label"),r(12,"Password"),i(),n(13,"input",5),f("ngModelChange",function(o){return c(e.password,o)||(e.password=o),o}),u("keyup.enter",function(){return e.navigateToMainPage()}),i()(),n(14,"button",6),u("click",function(){return e.navigateToMainPage()}),r(15),i(),C(16,V,2,1,"div",7),i()()()),t&2&&(a(9),g("ngModel",e.username),a(4),g("ngModel",e.password),a(),p("disabled",e.isLoading),a(),v(" ",e.isLoading?"Loading\u2026":"Login"," "),a(),p("ngIf",e.errorMsg))},dependencies:[L,y,k,I,T,E,R,j,B,D,A,F,P,x,N,W,b,S],encapsulation:2})};export{U as LoginComponent};
